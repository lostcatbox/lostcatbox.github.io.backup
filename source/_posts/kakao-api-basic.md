---
title: 카카오채널 구현해보기
date: 2020-01-22 19:04:47
categories: Kakao
tags: [Kakao, basic]
---

# Kakao api 시작하기 전에

이 내용은 모두 [KakaoDevelopers 개발가이드]([https://developers.kakao.com/docs/ios/kakao-talk-channel#%EC%B9%B4%EC%B9%B4%EC%98%A4%ED%86%A1-%EC%B1%84%EB%84%90-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0](https://developers.kakao.com/docs/ios/kakao-talk-channel#카카오톡-채널-추가하기))에 있는 내용임을 알립니다!

[개발자로 회원가입](https://developers.kakao.com/)

# 시작하기

## 카카오 채널관리자 만들기

카카오톡채널 관리자센터 [여기](https://accounts.kakao.com/login/kakaoforbusiness?continue=https://center-pf.kakao.com/)

카카오 developer관련 질문 [여기](https://i.kakao.com/forum/)

카카오 api 소개 및 다루는 법 소개 [여기](https://developers.kakao.com/features/kakao#%EC%B9%B4%EC%B9%B4%EC%98%A4%ED%86%A1-%EC%B1%84%EB%84%90-API](https://developers.kakao.com/features/kakao#카카오톡-채널-API))

위 사이트안에서 카카오채널에 관한 소개 [여기]([https://developers.kakao.com/features/kakao#%EC%B9%B4%EC%B9%B4%EC%98%A4%ED%86%A1-%EC%B1%84%EB%84%90-API](https://developers.kakao.com/features/kakao#카카오톡-채널-API))

카카오채널에서 플러스 친구과 연결된 다양한 오픈 빌더 플랫폼 [여기](https://i.kakao.com/login)

[나중에 삭제 예정된 참고자료](https://github.com/Beomi/where-is-my-customs)

## OBT신청하기 [여기](https://i.kakao.com/login)

__주의사항__

챗봇의 사용목적을 정확히 서술하지 않고 챗봇 OBT를 신청할 경우 잘못하면 6일이라는 시간을 날릴 수도 있으니 신청할때 아래 중요시 생각되는 것들과  예시를 통해 꼼꼼히 작성하길 바란다

~~(나도그냥했다가바로짤림)~~

```
“챗봇의 사용 목적이 불분명하여 OBT 승인 신청이 반려되었습니다.
카카오 i 디벨로퍼스 OBT 참여를 희망하시는 경우, 플러스친구 홈과 신청사유에 챗봇의 성격을 뚜렷하게 명시해주시길 바랍니다.
예시로 주변 맛집을 찾아주는 ‘맛집봇’, 특정 인물의 Q&A를 알려주는 ‘인물봇’ 등 챗봇의 사용 목적이 드러나면 좋습니다.
플러스친구 이름, 프로필 이미지, 카테고리 등 플러스친구 정보를 정확히 입력 후, 공개로 설정된 플러스친구 계정 URL을 정확하게 입력하여 다시 신청해주시기 바랍니다.
OBT에 신청해주셔서 감사합니다.”
```

## 주요개념

### 엔티티

- **엔티티(Entity)**란 봇이 이해할 수 있는 용어를 체계적으로 정리한 데이터 사전입니다. 엔티티가 정의되어 있다면, 봇은 __사용자 발화로부터 사용자의 의도에 맞는 동작 수행을 위한 주요 데이터를 추출할 수 있게 됩니다.__
- 엔티티명>대표엔트리(1,2,3,)>동의어(A,B,C...)로 구성되어있다.
- 엔티티는 __나의엔티티__(내가직접입력) , __시스템엔티티__(카카오측에서 만들어놓음)(날짜, 시간, 숫자 등등)로 구별된다.
- 엔티티가 있다면 사용자가 비슷한 말을 발화한 것에서 원하는 값을 객체로 가져올수있다.

### 시나리오



- **시나리오(Scenario)** 는 봇 안에서 사용자가 경험할 수 있는 서비스 단위입니다.

  예를 들어 금융과 관련된 서비스를 제공하는 봇이 있다고 가정하면 이 봇이 제공할 수 있는 서비스 단위, 즉 시나리오는 ‘예금’, ‘적금’, ‘대출’, ‘연금’, ‘방카슈랑스’ 등이 될 수 있습니다.

-  사용자의 의도(Intent)를 응대하는 가장 작은 단위를 블록(Block)이라고 하는데, 하나의 시나리오는 다양한 블록들이 모여서 이루어지게됩니다. 즉, 봇 작업자는 이러한 시나리오 단위로 다수의 블록들을 원하는 서비스 별로 그룹핑하여 체계적으로 관리할 수 있습니다.

#### 시나리오 종류

- 기본 시나리오

  기본 시나리오는 모든 봇에 장착되어있으며 웰컴 블록(봇이 사용자 처음 만날때), 폴백 블록(봇이 사용자의 발화 의도를 이해하지 못할떄 내뱉는 메세지 정의), 탈출 블록(봇의 되묻기 상황등에서 사용자가 대화를 초기화or탈출하고 싶을 때 쓰는 사용자 명령어를 정의함) 존재

- 커스텀 시나리오

  커스텀 시나리오는 봇 작업자가 서비스 단위 등으로 구분하며 지속 생성할 수 있습니다.

#### 시나리오 설정

- 모든 시나리오에 공통적으로 적용할수 있는 '속성'을 정의 할수있다.

- 두가지

  > ### 되묻기 질문
  >
  > 대표적으로 봇 작업자가, 봇이 사용자로부터 특정 정보 (= ’파라미터값’ 이라고 합니다. [**파라미터 설정**](https://i.kakao.com/docs/key-concepts-parameters#봇빌더에-들어가는-파라미터-값) 참조)를 획득까지 물어보는 질문을 ‘되묻기 질문’이라고 하며, 이를 본 설정 메뉴안에서 직접 정의할 수 있습니다.
  >
  > - 최대 횟수(8회까지) 및 초과시 안내 메시지
  > - 되묻기 대기 시간 (10분/20분/30분/60분/120분) & 초과시 안내 메시지

  > ### 봇 제네릭(Generic) 메뉴
  >
  > 봇 제네릭 메뉴는 카카오톡 챗봇 안에서 하단에 슬라이드 메뉴 형태로 존재하는 사용자 인터페이스를 의미합니다.
  >
  > 챗봇 사용자가 아래에서 위로 해당 공간을 쓸어올려 언제나 중요 필수 메뉴를 쉽게 접근할수 있도록 하는 메뉴입니다. 봇 작업자는 본 공통 설정안에서 제네릭 메뉴에 사용여부를 스위치 On/Off 형태로 간편하게 셋팅할 수 있습니다.
  >
  > - 카카오 i 오픈빌더의 봇 제네릭 메뉴는 개발 채널을 연결해야 볼 수 있습니다.
  > - 봇 제네릭 메뉴에서 '상담원으로 전환하기' 버튼을 최상단 또는 최하단으로 이동할 수 있습니다.
  > - 개발 채널에 상담톡을 연결하여 봇 제네릭 메뉴를 테스트하실 경우 **상담톡 api를 제공하는 딜러사에 비과금 개발 채널 생성을 요청**하셔야합니다. (임의로 채널 생성 후 테스트 시 상담톡 사용료가 과금될 수 있습니다)

Tip: **nformation.** **제네릭 메뉴에서 ‘상담원으로 전환하기’ 설정하기**

’상담원으로 전환하기’기능을 사용하기 위해서는 아래 조건을 충족해야 합니다.

1. 운영 채널과 개발 채널을 모두 연결해야 합니다.
2. 운영 채널과 개발 채널에의 1:1 채팅 설정이 모두 ON이 되어 있어야 합니다.
   해당 설정은 카카오톡 채널 관리자 센터에서 진행할 수 있습니다. [카카오톡 채널 관리자 센터가기](https://center-pf.kakao.com/)



해당 봇을 배포하시면 카카오 i 오픈빌더에 연결한 운영 채널에도 동일한 봇 제네릭 메뉴 설정이 적용됩니다. (단, 운영 채널에도 상담원 전환 설정이 되어있어야 합니다)



상세한 설정 방법은 [**튜토리얼 > 시나리오와 블록 만들기**](https://i.kakao.com/docs/tutorial-chatbot-key-features#시나리오와-블록-만들기)를 참조하시길 바랍니다.'



### 블록 (매우 중요개념)

- **블록(Block)** 이란 사용자 의도의 기본 단위로, `인텐트(Intent)`라고도 불립니다. 1개의 블록은 1개의 의도를 표현하며, 사용자 발화가 봇으로 유입되면, 블록안에 사전에 등록된 발화내용을 기반으로 사용자 의도가 파악되어 1개 블록이 최종 추출됩니다.

  __이때 블록안에는 사용자 예상 발화, 그리고 봇이 수행할 액션과 응답할 내용이 설계됩니다.__(중요)

  예를 들면, 주로 ‘날씨 알려주기, 메시지 보내기, 지역 검색하기’ 와 같이 봇의 수행 미션(Task) 단위로 블록이 설계됩니다.

![block-overview](https://i.kakao.com/docs/assets/key-concepts/block-overview.png)



- ### 주요 기능 구성

  - 사용자 발화 패턴
  - 파라미터
  - 봇 응답 형식
  - 스킬
  - 컨텍스트

#### 블록의 종류

기본 블록은 봇이 구동할 때 필요한 최소한의 이벤트를 정의한 블록입니다. 봇 생성시 자동으로 생성되고 삭제가 불가능하며, 시나리오 메뉴에 있는 ‘시나리오 설정’ 에서 수정이 가능합니다.

- 웰컴 블록 (처음 사용시)
- 폴백 블록 (사용자의 발화 의도가 어떠한 블록과도 매칭안될때 응답설정하는블록)
- 탈출 블록(봇의 되묻기상황에서 대화 초기화, 탈출시 사용)

